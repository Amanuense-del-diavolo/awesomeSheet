function awesomesheet(){function a(a){return document.querySelector(a)}function b(a){return document.querySelectorAll(a)}function c(a,b){a.classList.toggle(b)}function d(a,b){a.classList.add(b)}function e(a,b){a.classList.remove(b)}function f(a,b){for(var c=b.charAt(0);a&&a!==document;a=a.parentNode){if("."===c&&a.classList.contains(b.substr(1)))return a;if("#"===c&&a.id===b.substr(1))return a;if("["===c&&a.hasAttribute(b.substr(1,b.length-2)))return a;if(a.tagName.toLowerCase()===b)return a}return!1}function g(a,b){localStorage.getItem&&localStorage.setItem(a,b)}function h(a){if(""==localStorage.getItem(a))localStorage.removeItem(a);else if(localStorage.getItem(a))return localStorage.getItem(a)}function i(a){var b=parseInt(a.value,10)||0;return b}function j(a,b){var c=(i(a),k(a));b.innerHTML=c}function k(a){var b=Math.floor((a.value-10)/2);return b}function l(){for(var a=b(".stats"),c=0;c<a.length;c++){var d=a[c].querySelector(".score"),e=a[c].querySelector(".modifier"),f=a[c].querySelector(".temp-score"),g=a[c].querySelector(".temp-modifier");""!==d.value?j(d,e):e.innerHTML="",""!==f.value?j(f,g):g.innerHTML=""}}function m(){for(var a=b(".stats .score"),c=b(".stats .temp-score"),d=0;d<a.length;d++)a[d].addEventListener("input",function(){l(),A(),n()},!1);for(var d=0;d<c.length;d++)c[d].addEventListener("input",function(){l(),A(),n()},!1)}function n(){g("stats_str",I.value),g("stats_dex",J.value),g("stats_con",K.value),g("stats_int",L.value),g("stats_wis",M.value),g("stats_cha",N.value),g("stats_strTemp",U.value),g("stats_dexTemp",V.value),g("stats_conTemp",W.value),g("stats_intTemp",X.value),g("stats_wisTemp",Y.value),g("stats_chaTemp",Z.value)}function o(){h("stats_str")&&(I.value=h("stats_str")),h("stats_dex")&&(J.value=h("stats_dex")),h("stats_con")&&(K.value=h("stats_con")),h("stats_int")&&(L.value=h("stats_int")),h("stats_wis")&&(M.value=h("stats_wis")),h("stats_cha")&&(N.value=h("stats_cha")),h("stats_strTemp")&&(U.value=h("stats_strTemp")),h("stats_dexTemp")&&(V.value=h("stats_dexTemp")),h("stats_conTemp")&&(W.value=h("stats_conTemp")),h("stats_intTemp")&&(X.value=h("stats_intTemp")),h("stats_wisTemp")&&(Y.value=h("stats_wisTemp")),h("stats_chaTemp")&&(Z.value=h("stats_chaTemp"))}function p(){for(var a=0;a<ka.length;a++)ka[a].addEventListener("click",function(){s(this)},!1)}function q(){for(var a=b(".spell-prepared"),c=0;c<a.length;c++)a[c].addEventListener("click",function(){r(this)},!1)}function r(a){var b=a.querySelector(".icon-bookmark");a.classList.contains("spell-cast")?a.remove():a.classList.contains("spell-prepared")&&(c(a,"spell-prepared"),c(a,"spell-cast"),c(b,"icon-bookmark"),c(b,"icon-close")),t()}function s(b){var c=f(b,".spells-known").dataset.spellLevel,d=b.innerHTML,e=a(".spells-known.spell-level-"+c+" .prepared-list"),g='<a href="javascript:void(0)" class="spell-prepared button button-primary button-small" data-cast="false"><span class="icon-bookmark"></span> '+d+"</a>";e.innerHTML=e.innerHTML+" "+g,q(),t(b)}function t(b){var c=f(b,".spells-known").dataset.spellLevel,d="prepared_spell_level_"+c,e=a(".spell-level-"+c+" .prepared-list");g(d,e.innerHTML)}function u(){for(var b=0;10>b;b++){var c=b;if(h("prepared_spell_level_"+c)){var d=h("prepared_spell_level_"+c);console.log(d);var e=a(".spell-level-"+c+" .prepared-list");console.log(e),e.innerHTML=d}}q()}function v(a){var b=a.classList;g(b[1],a.innerHTML)}function w(){for(var b=0;b<ia.length;b++){var c=ia[b].classList;h(c[1])&&(a("."+c[1]).innerHTML=h(c[1]))}}function x(){for(var a=0;a<ia.length;a++)ia[a].addEventListener("input",function(){v(this)},!1)}function y(){for(var a=[],b=0;b<ja.length;b++)a.push(ja[b].value);g("skill_list",a)}function z(){var a=h("skill_list");if(a)var b=a.split(",");if(a)for(var c=0;c<ja.length;c++)ja[c].value=parseInt(b[c],10)}function A(){for(var a=0;a<ea.length;a++){var b,c=ea[a].querySelector(".name.skill-value").dataset.ability;"str"==c?b=""==$.innerHTML?parseInt(O.innerHTML,10):parseInt($.innerHTML,10):"dex"==c?b=""==_.innerHTML?parseInt(P.innerHTML,10):parseInt(_.innerHTML,10):"con"==c?b=""==aa.innerHTML?parseInt(Q.innerHTML,10):parseInt(aa.innerHTML,10):"int"==c?b=""==ba.innerHTML?parseInt(R.innerHTML,10):parseInt(ba.innerHTML,10):"wis"==c?b=""==ca.innerHTML?parseInt(S.innerHTML,10):parseInt(ca.innerHTML,10):"cha"==c&&(b=""==da.innerHTML?parseInt(T.innerHTML,10):parseInt(da.innerHTML,10));var d=i(ea[a].querySelector(".ranks.skill-value")),e=i(ea[a].querySelector(".misc.skill-value")),f=b+d+e;ea[a].querySelector(".total.skill-value").innerHTML=f}}function B(){for(var a=b(".ranks.skill-value"),c=b(".misc.skill-value"),d=0;d<a.length;d++)a[d].addEventListener("input",function(){A(),y()},!1);for(var d=0;d<c.length;d++)c[d].addEventListener("input",function(){A(),y()},!1)}function C(){var a=window.document,b=a.documentElement,d=b.requestFullscreen||b.mozRequestFullScreen||b.webkitRequestFullScreen||b.msRequestFullscreen,e=a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen;a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement?(e.call(a),c(ga,"active"),c(ga.querySelector("span"),"icon-fullscreen-exit"),c(ga.querySelector("span"),"icon-fullscreen")):(d.call(b),c(ga,"active"),c(ga.querySelector("span"),"icon-fullscreen-exit"),c(ga.querySelector("span"),"icon-fullscreen"))}function D(a){var b,c=a.parentNode,f=c.querySelector(".input-field");if(c.querySelector(".input-label"))var b=c.querySelector(".input-label");c.querySelector(".input-label")&&(f==document.activeElement?d(b,"input-label-focus"):e(b,"input-label-focus"))}function E(){for(var a=0;a<ha.length;a++){var b=ha[a],c=b.querySelector(".input-field");if(b.querySelector(".input-label"))var f=b.querySelector(".input-label");b.querySelector(".input-label")&&(c==document.activeElement?d(f,"input-label-focus"):e(f,"input-label-focus"))}}function F(){for(var a=0;a<ha.length;a++){var b=ha[a].querySelector(".input-field");b.addEventListener("input",function(){D(this),G(this)},!1),b.addEventListener("focus",function(){D(this),G(this)},!1),b.addEventListener("blur",function(){D(this),G(this)},!1)}}function G(a){var b=a.id;g(b,a.value)}function H(){for(var b=0;b<ha.length;b++){var c=ha[b].querySelector(".input-field").id;h(c)&&(a("#"+c).value=h(c))}}var I=a(".stats.str .score"),J=a(".stats.dex .score"),K=a(".stats.con .score"),L=a(".stats.int .score"),M=a(".stats.wis .score"),N=a(".stats.cha .score"),O=a(".stats.str .modifier"),P=a(".stats.dex .modifier"),Q=a(".stats.con .modifier"),R=a(".stats.int .modifier"),S=a(".stats.wis .modifier"),T=a(".stats.cha .modifier"),U=a(".stats.str .temp-score"),V=a(".stats.dex .temp-score"),W=a(".stats.con .temp-score"),X=a(".stats.int .temp-score"),Y=a(".stats.wis .temp-score"),Z=a(".stats.cha .temp-score"),$=a(".stats.str .temp-modifier"),_=a(".stats.dex .temp-modifier"),aa=a(".stats.con .temp-modifier"),ba=a(".stats.int .temp-modifier"),ca=a(".stats.wis .temp-modifier"),da=a(".stats.cha .temp-modifier"),ea=(a(".skill-list"),b(".skill-list .skill-details")),fa=(a(".ac"),a(".ac-touch"),a(".ac-flat-footed"),a(".clear-local-storage")),ga=a(".toggle-fullscreen"),ha=(b(".spell-check"),b(".input-block")),ia=b(".textarea"),ja=b("input.skill-value"),ka=b(".spell-item");b(".prepared-list");fa.addEventListener("click",function(){localStorage.clear()},!1),ga.addEventListener("click",function(){C()},!1),p(),m(),B(),x(),F(),u(),w(),H(),z(),o(),l(),A(),E()}awesomesheet(),smoothScroll.init();